<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tree package &#8212; pyclusterevol -0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '-0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="pyclusterevol -0.1 documentation" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyclusterevol -0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tree-package">
<h1>tree package<a class="headerlink" href="#tree-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tree.load_c.html">tree.load_c package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tree.load_c.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tree.load_c.html#module-tree.load_c">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-tree.Do_Consistent_Tree">
<span id="tree-do-consistent-tree-module"></span><h2>tree.Do_Consistent_Tree module<a class="headerlink" href="#module-tree.Do_Consistent_Tree" title="Permalink to this headline">¶</a></h2>
<p>Created on Fri Dec  4 16:33:27 2015</p>
<ol class="arabic simple">
<li>convert HM/GM output</li>
<li>generate .cfg file</li>
<li>run consistant tree</li>
</ol>
<p>&#64;author: hoseung</p>
<dl class="function">
<dt id="tree.Do_Consistent_Tree.run">
<code class="descclassname">tree.Do_Consistent_Tree.</code><code class="descname">run</code><span class="sig-paren">(</span><em>wdir='./'</em>, <em>nout_ini=None</em>, <em>is_gal=False</em>, <em>out_dir_g='GalaxyMaker/'</em>, <em>out_dir_d='halo/'</em>, <em>iap=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/Do_Consistent_Tree.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.Do_Consistent_Tree.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-tree.TMtree">
<span id="tree-tmtree-module"></span><h2>tree.TMtree module<a class="headerlink" href="#module-tree.TMtree" title="Permalink to this headline">¶</a></h2>
<p>From tree.fits file, select halos by mass cut.</p>
<p>Created on Wed Jan 21 11:45:42 2015</p>
<p>&#64;author: hoseung</p>
<dl class="function">
<dt id="tree.TMtree.check_tree_complete">
<code class="descclassname">tree.TMtree.</code><code class="descname">check_tree_complete</code><span class="sig-paren">(</span><em>tree</em>, <em>nout_fi</em>, <em>nout_ini</em>, <em>halo_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/TMtree.html#check_tree_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.TMtree.check_tree_complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.TMtree.get_main_prg">
<code class="descclassname">tree.TMtree.</code><code class="descname">get_main_prg</code><span class="sig-paren">(</span><em>tree</em>, <em>halos</em>, <em>nout_ini=None</em>, <em>nout_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/TMtree.html#get_main_prg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.TMtree.get_main_prg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.TMtree.load">
<code class="descclassname">tree.TMtree.</code><code class="descname">load</code><span class="sig-paren">(</span><em>work_dir='/home/hoseung/Work/data/'</em>, <em>filename='tree.fits'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/TMtree.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.TMtree.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-tree.ctutils">
<span id="tree-ctutils-module"></span><h2>tree.ctutils module<a class="headerlink" href="#module-tree.ctutils" title="Permalink to this headline">¶</a></h2>
<p>Created on Fri Jul 10 17:10:10 2015</p>
<p>&#64;author: hoseung</p>
<dl class="function">
<dt id="tree.ctutils.augment_tree">
<code class="descclassname">tree.ctutils.</code><code class="descname">augment_tree</code><span class="sig-paren">(</span><em>treedata</em>, <em>base</em>, <em>is_gal=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#augment_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.augment_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Add more quantities to existing tree data.</p>
<p>Consistent tree (built with HM/GM output) does not provide much detail of halos/galaxies.
I need to add some more information from original HM/GM output.</p>
</dd></dl>

<dl class="function">
<dt id="tree.ctutils.check_tree_complete">
<code class="descclassname">tree.ctutils.</code><code class="descname">check_tree_complete</code><span class="sig-paren">(</span><em>treedata</em>, <em>nout_ini</em>, <em>nout_fi</em>, <em>halo_list</em>, <em>idx=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#check_tree_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.check_tree_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of halo IDs at nout_fi that with trees fully linked
from nout_ini to nout_fi.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>idx</strong> : if False, halo_list are ids from halo bricks.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tree.ctutils.extract_a_tree">
<code class="descclassname">tree.ctutils.</code><code class="descname">extract_a_tree</code><span class="sig-paren">(</span><em>alltrees</em>, <em>idx_last</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#extract_a_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.extract_a_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns one full tree.</p>
</dd></dl>

<dl class="function">
<dt id="tree.ctutils.extract_main_tree">
<code class="descclassname">tree.ctutils.</code><code class="descname">extract_main_tree</code><span class="sig-paren">(</span><em>treedata</em>, <em>idx=None</em>, <em>no_subset=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#extract_main_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.extract_main_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a single branch/trunk of tree following only the main progenitors.
Works with both alltrees or atree.
Search until no progenitor is found. Doesn&#8217;t matter how long the given tree is. 
Only earlier snapshots are searched for.</p>
</dd></dl>

<dl class="function">
<dt id="tree.ctutils.extract_main_tree_full">
<code class="descclassname">tree.ctutils.</code><code class="descname">extract_main_tree_full</code><span class="sig-paren">(</span><em>atree</em>, <em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#extract_main_tree_full"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.extract_main_tree_full" title="Permalink to this definition">¶</a></dt>
<dd><p>extract a FULL main tree including later snapshots.
= extract_main_tree + later snapshots</p>
</dd></dl>

<dl class="function">
<dt id="tree.ctutils.extract_satellite">
<code class="descclassname">tree.ctutils.</code><code class="descname">extract_satellite</code><span class="sig-paren">(</span><em>atree</em>, <em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#extract_satellite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.extract_satellite" title="Permalink to this definition">¶</a></dt>
<dd><p>extract a partial tree of satellite.
Starting from a certain nout, goes back in time.</p>
</dd></dl>

<dl class="function">
<dt id="tree.ctutils.get_npr">
<code class="descclassname">tree.ctutils.</code><code class="descname">get_npr</code><span class="sig-paren">(</span><em>treedata</em>, <em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#get_npr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.get_npr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of progenitors of a given idx</p>
</dd></dl>

<dl class="function">
<dt id="tree.ctutils.get_progenitors">
<code class="descclassname">tree.ctutils.</code><code class="descname">get_progenitors</code><span class="sig-paren">(</span><em>treedata</em>, <em>idx</em>, <em>main=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#get_progenitors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.get_progenitors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns progenitors of a given halo/galaxy. 
(from only one previous snapshot)</p>
</dd></dl>

<dl class="function">
<dt id="tree.ctutils.id_to_idx">
<code class="descclassname">tree.ctutils.</code><code class="descname">id_to_idx</code><span class="sig-paren">(</span><em>treedata</em>, <em>id</em>, <em>nout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#id_to_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.id_to_idx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.ctutils.idx_to_ind">
<code class="descclassname">tree.ctutils.</code><code class="descname">idx_to_ind</code><span class="sig-paren">(</span><em>treedata</em>, <em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#idx_to_ind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.idx_to_ind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.ctutils.idxs_to_ids">
<code class="descclassname">tree.ctutils.</code><code class="descname">idxs_to_ids</code><span class="sig-paren">(</span><em>alltree</em>, <em>idxs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#idxs_to_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.idxs_to_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.ctutils.join_struct_arrays">
<code class="descclassname">tree.ctutils.</code><code class="descname">join_struct_arrays</code><span class="sig-paren">(</span><em>arrays</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#join_struct_arrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.join_struct_arrays" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.ctutils.last_halos">
<code class="descclassname">tree.ctutils.</code><code class="descname">last_halos</code><span class="sig-paren">(</span><em>treedata</em>, <em>return_ind=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#last_halos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.last_halos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.ctutils.load_tree">
<code class="descclassname">tree.ctutils.</code><code class="descname">load_tree</code><span class="sig-paren">(</span><em>wdir</em>, <em>is_gal=False</em>, <em>no_dump=False</em>, <em>load_ascii=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/ctutils.html#load_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.ctutils.load_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Basically deprecated. 
Use treemodule.load_tree() instead.</p>
</dd></dl>

</div>
<div class="section" id="module-tree.draw_merger_tree">
<span id="tree-draw-merger-tree-module"></span><h2>tree.draw_merger_tree module<a class="headerlink" href="#module-tree.draw_merger_tree" title="Permalink to this headline">¶</a></h2>
<p>Created on Wed Jun 24 23:05:02 2015</p>
<p>&#64;author: hoseung</p>
<dl class="function">
<dt id="tree.draw_merger_tree.get_idx">
<code class="descclassname">tree.draw_merger_tree.</code><code class="descname">get_idx</code><span class="sig-paren">(</span><em>tt</em>, <em>halnum</em>, <em>nout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/draw_merger_tree.html#get_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.draw_merger_tree.get_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Todo: It&#8217;s better to be included in the tree class.</p>
</dd></dl>

<dl class="function">
<dt id="tree.draw_merger_tree.get_xarr">
<code class="descclassname">tree.draw_merger_tree.</code><code class="descname">get_xarr</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/draw_merger_tree.html#get_xarr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.draw_merger_tree.get_xarr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.draw_merger_tree.link_circle_up">
<code class="descclassname">tree.draw_merger_tree.</code><code class="descname">link_circle_up</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>r</em>, <em>ax</em>, <em>finish=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/draw_merger_tree.html#link_circle_up"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.draw_merger_tree.link_circle_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two points, draw circle at the first point and link it to the second point
without drawing the second point by default (so that it can repeat to build a long thread of bids).
for the last point, pass the radius of the last circle to the argument &#8216;finish&#8217;</p>
<p>For example,</p>
<p>fig = plt.figure()
ax = fig.add_subplot(111)
xpos = [1,1] &amp;  ypos = [2,4]
link_circle(xpos, ypos, 10, ax)</p>
<p>xpos = [1,2] &amp; ypos = [4,6]
link_circle(xpos, ypos, 30, ax, finish=30)
fig.show()</p>
</dd></dl>

<dl class="function">
<dt id="tree.draw_merger_tree.link_circle_up_lineandcircle">
<code class="descclassname">tree.draw_merger_tree.</code><code class="descname">link_circle_up_lineandcircle</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>r</em>, <em>ax</em>, <em>first=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/draw_merger_tree.html#link_circle_up_lineandcircle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.draw_merger_tree.link_circle_up_lineandcircle" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two points, draw circle at the first point and link it to the second point
without drawing the second point by default (so that it can repeat to build a long thread of bids).
for the last point, pass the radius of the last circle to the argument &#8216;finish&#8217;</p>
<p>For example,</p>
<p>fig = plt.figure()
ax = fig.add_subplot(111)
xpos = [1,1] &amp;  ypos = [2,4]
link_circle(xpos, ypos, 10, ax)</p>
<p>xpos = [1,2] &amp; ypos = [4,6]
link_circle(xpos, ypos, 30, ax, finish=30)
fig.show()</p>
</dd></dl>

<dl class="function">
<dt id="tree.draw_merger_tree.recursive_tree">
<code class="descclassname">tree.draw_merger_tree.</code><code class="descname">recursive_tree</code><span class="sig-paren">(</span><em>idx</em>, <em>tt</em>, <em>nstep</em>, <em>ax</em>, <em>x0</em>, <em>y0</em>, <em>dx</em>, <em>mass_unit=10000000000.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/draw_merger_tree.html#recursive_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.draw_merger_tree.recursive_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-tree.halomodule">
<span id="tree-halomodule-module"></span><h2>tree.halomodule module<a class="headerlink" href="#module-tree.halomodule" title="Permalink to this headline">¶</a></h2>
<p>Created on Mon Apr  6 11:00:31 2015</p>
<p>halo / galaxy calss including basic data load functionality.</p>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>nout</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">int</span><dd>snapshot number</dd>
<dt>base</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">str</span><dd>work directory</dd>
<dt>is_gal</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">logical</span><dd>load galaxy if true</dd>
<dt>return_id</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">logical</span><dd>If True, load and return constituent particle id of each halo.</dd>
<dt>return_id_list</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">int list</span><dd>specify halos of which particle id is returned.
If return_id is True but return_id_list is None, 
particle id of all halos are returned.</dd>
</dl>
<p>MODIFICATIONS:
2015. 08. 08</p>
<blockquote>
<div>Floats are all stored as doubles even though the original data is float32.
If center position is stored in float32, then is used to select particles
inside the region, then max(x) - min(x) &gt; 2 * region[&#8216;radius&#8217;] is possible!</div></blockquote>
<dl class="docutils">
<dt>2016.03.26</dt>
<dd><dl class="first last docutils">
<dt>if return_id = True, but no return_id_list is set, then return id lists</dt>
<dd>of all halos by dafault.</dd>
</dl>
</dd>
</dl>
<p>&#64;author: hoseung</p>
<dl class="class">
<dt id="tree.halomodule.Halo">
<em class="property">class </em><code class="descclassname">tree.halomodule.</code><code class="descname">Halo</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#tree.halomodule.HaloMeta" title="tree.halomodule.HaloMeta"><code class="xref py py-class docutils literal"><span class="pre">tree.halomodule.HaloMeta</span></code></a></p>
<p>Class to hold Halo finder catalog.</p>
<dl class="docutils">
<dt>HM :</dt>
<dd>r = distance of the furthest particle from the center of the halo.
rvir = radius where the density is 200 times the _______?</dd>
</dl>
<p class="rubric">Notes</p>
<p>Rockstar halo id starts from 0. CT id too.
For the details of Halofinders refer Aubert 2004, Behroozi 2013.</p>
<dl class="method">
<dt id="tree.halomodule.Halo.derive_from">
<code class="descname">derive_from</code><span class="sig-paren">(</span><em>old_halo</em>, <em>ind=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.derive_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.derive_from" title="Permalink to this definition">¶</a></dt>
<dd><p>derive a subset from another halo instance.
1) all meta data will be overwritten.
2) ind specifies the part of .data to be inherited.</p>
</dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.load_hm">
<code class="descname">load_hm</code><span class="sig-paren">(</span><em>nout=None</em>, <em>base=None</em>, <em>info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.load_hm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.load_hm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.load_hm_old">
<code class="descname">load_hm_old</code><span class="sig-paren">(</span><em>nout=None</em>, <em>base=None</em>, <em>info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.load_hm_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.load_hm_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.load_rs">
<code class="descname">load_rs</code><span class="sig-paren">(</span><em>nout=None</em>, <em>base=None</em>, <em>info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.load_rs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.load_rs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.load_rs_ascii">
<code class="descname">load_rs_ascii</code><span class="sig-paren">(</span><em>nout=None</em>, <em>base=None</em>, <em>info=None</em>, <em>pickle=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.load_rs_ascii"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.load_rs_ascii" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.normalize">
<code class="descname">normalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>normalize qunatities in comoving scale.
Works only with internal info. So set Halo.info first.</p>
</dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.normalize_hm">
<code class="descname">normalize_hm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.normalize_hm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.normalize_hm" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes positions and lenghts in code unit ([0,1]),
and mass in solar mass (physical).</p>
</dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.normalize_rs">
<code class="descname">normalize_rs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.normalize_rs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.normalize_rs" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes positions and lenghts in code unit ([0,1]),
and mass in solar mass (physical).</p>
</dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.pickle_halo">
<code class="descname">pickle_halo</code><span class="sig-paren">(</span><em>fname=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.pickle_halo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.pickle_halo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.refactor_hm">
<code class="descname">refactor_hm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.refactor_hm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.refactor_hm" title="Permalink to this definition">¶</a></dt>
<dd><p>refactor HaloMaker halo into Rockstar format. (mostly name modifications.)</p>
</dd></dl>

<dl class="method">
<dt id="tree.halomodule.Halo.set_data">
<code class="descname">set_data</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#Halo.set_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.Halo.set_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="tree.halomodule.HaloMeta">
<em class="property">class </em><code class="descclassname">tree.halomodule.</code><code class="descname">HaloMeta</code><span class="sig-paren">(</span><em>nout=None</em>, <em>base='./'</em>, <em>info=None</em>, <em>halofinder='HM'</em>, <em>load=True</em>, <em>is_gal=False</em>, <em>return_id=False</em>, <em>outdir=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#HaloMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.HaloMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>HaloMeta class.</p>
<p>all except halofinder output.</p>
<p class="rubric">Methods</p>
<table border="1" class="docutils">
<colgroup>
<col width="76%" />
<col width="24%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>set_info(self, info)</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>set_nout(self, nout)</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>set_halofinder(self, halofinder)</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tree.halomodule.HaloMeta.set_halofinder">
<code class="descname">set_halofinder</code><span class="sig-paren">(</span><em>halofinder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#HaloMeta.set_halofinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.HaloMeta.set_halofinder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.halomodule.HaloMeta.set_info">
<code class="descname">set_info</code><span class="sig-paren">(</span><em>info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#HaloMeta.set_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.HaloMeta.set_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.halomodule.HaloMeta.set_nout">
<code class="descname">set_nout</code><span class="sig-paren">(</span><em>nout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/halomodule.html#HaloMeta.set_nout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.halomodule.HaloMeta.set_nout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-tree.hmutil">
<span id="tree-hmutil-module"></span><h2>tree.hmutil module<a class="headerlink" href="#module-tree.hmutil" title="Permalink to this headline">¶</a></h2>
<p>Created on Thu Mar  5 14:46:30 2015</p>
<p>&#64;author: hoseung</p>
<p>HM halo util</p>
<dl class="function">
<dt id="tree.hmutil.load_data">
<code class="descclassname">tree.hmutil.</code><code class="descname">load_data</code><span class="sig-paren">(</span><em>nout</em>, <em>work_dir=None</em>, <em>normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/hmutil.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.hmutil.load_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.hmutil.norm_halo">
<code class="descclassname">tree.hmutil.</code><code class="descname">norm_halo</code><span class="sig-paren">(</span><em>halo</em>, <em>info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/hmutil.html#norm_halo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.hmutil.norm_halo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.hmutil.print_halo">
<code class="descclassname">tree.hmutil.</code><code class="descname">print_halo</code><span class="sig-paren">(</span><em>halo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/hmutil.html#print_halo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.hmutil.print_halo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-tree.rshalo">
<span id="tree-rshalo-module"></span><h2>tree.rshalo module<a class="headerlink" href="#module-tree.rshalo" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="tree.rshalo.get_main_prg">
<code class="descclassname">tree.rshalo.</code><code class="descname">get_main_prg</code><span class="sig-paren">(</span><em>tree</em>, <em>halos</em>, <em>nout_ini=None</em>, <em>nout_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/rshalo.html#get_main_prg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.rshalo.get_main_prg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.rshalo.iscomment">
<code class="descclassname">tree.rshalo.</code><code class="descname">iscomment</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/rshalo.html#iscomment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.rshalo.iscomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if the argument is a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> : string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tree.rshalo.pickleRS">
<code class="descclassname">tree.rshalo.</code><code class="descname">pickleRS</code><span class="sig-paren">(</span><em>base='./'</em>, <em>nouts=[]</em>, <em>nout_ini=1</em>, <em>nout_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/rshalo.html#pickleRS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.rshalo.pickleRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads Rockstar halo outputs and pickle it.
output directory = base_dir/rhalo/halos_py</p>
</dd></dl>

<dl class="function">
<dt id="tree.rshalo.read_halo_all">
<code class="descclassname">tree.rshalo.</code><code class="descname">read_halo_all</code><span class="sig-paren">(</span><em>filename</em>, <em>sort=False</em>, <em>return_aexp=False</em>, <em>verbose=False</em>, <em>rs_dir='rockstar_halos/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/rshalo.html#read_halo_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.rshalo.read_halo_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a set of ascii outputs by calling read_halo_ascii.
Rockstar output for a single snapshot is distributed over multiple files.</p>
</dd></dl>

<dl class="function">
<dt id="tree.rshalo.read_halo_ascii">
<code class="descclassname">tree.rshalo.</code><code class="descname">read_halo_ascii</code><span class="sig-paren">(</span><em>filename</em>, <em>return_aexp=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/rshalo.html#read_halo_ascii"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.rshalo.read_halo_ascii" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="id1">
<h2>tree.tmtree module<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-tree.tmtree"></span><p>From tree.fits file, select halos by mass cut.</p>
<p>Created on Wed Jan 21 11:45:42 2015</p>
<p>&#64;author: hoseung</p>
<dl class="function">
<dt id="tree.tmtree.check_tree_complete">
<code class="descclassname">tree.tmtree.</code><code class="descname">check_tree_complete</code><span class="sig-paren">(</span><em>tree</em>, <em>nout_fi</em>, <em>nout_ini</em>, <em>halo_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/tmtree.html#check_tree_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.tmtree.check_tree_complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.tmtree.fix_nout">
<code class="descclassname">tree.tmtree.</code><code class="descname">fix_nout</code><span class="sig-paren">(</span><em>tt</em>, <em>nout_ini</em>, <em>nout_fi</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/tmtree.html#fix_nout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.tmtree.fix_nout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.tmtree.get_main_prg">
<code class="descclassname">tree.tmtree.</code><code class="descname">get_main_prg</code><span class="sig-paren">(</span><em>tree</em>, <em>halos</em>, <em>nout_ini=None</em>, <em>nout_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/tmtree.html#get_main_prg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.tmtree.get_main_prg" title="Permalink to this definition">¶</a></dt>
<dd><p>TM version.
nout in tree =/= nout. correct it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>tree</strong></p>
<blockquote>
<div><p>tree object (recarray)</p>
</div></blockquote>
<p><strong>halos</strong></p>
<blockquote class="last">
<div><p>ID(s) of target halo(s) at the final nout.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tree.tmtree.load">
<code class="descclassname">tree.tmtree.</code><code class="descname">load</code><span class="sig-paren">(</span><em>base=None</em>, <em>work_dir=None</em>, <em>filename='halo/TMtree.fits'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/tmtree.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.tmtree.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load tree.fits file and get the data table.
use base always. Work_dir is for backward compatibility.</p>
</dd></dl>

</div>
<div class="section" id="module-tree.tree_builder">
<span id="tree-tree-builder-module"></span><h2>tree.tree_builder module<a class="headerlink" href="#module-tree.tree_builder" title="Permalink to this headline">¶</a></h2>
<p>Created on Tue May 24 14:19:09 2016</p>
<p>&#64;author: hoseung</p>
<dl class="function">
<dt id="tree.tree_builder.convert_halo_list">
<code class="descclassname">tree.tree_builder.</code><code class="descname">convert_halo_list</code><span class="sig-paren">(</span><em>nout_ini=11</em>, <em>nout_fi=187</em>, <em>base='./'</em>, <em>out_dir='./'</em>, <em>is_gal=False</em>, <em>nmax_fracmax_ratio=2.0</em>, <em>nmax_fracmax_ratio2=1.2</em>, <em>frac_max_small=0.3</em>, <em>bosxize=200</em>, <em>nout_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/tree_builder.html#convert_halo_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.tree_builder.convert_halo_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate halo catalog with descendant ID.</p>
<p>Going from earlier snapshots to later snapshots, 
measure fraction of particles passed to the descendants.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>nmax_fracmax_ratio :</strong></p>
<blockquote>
<div><p>if contribution from np_max is larger than that of frac_max
by more than nmax_fracmax_ratio, than np_max is for sure the main progenitor.</p>
</div></blockquote>
<p><strong>nmax_fracmax_ratio2 :</strong></p>
<blockquote>
<div><p>if contribution from frac_max is lower than &#8220;frac_max_small&#8221; and np_max is larger than that of frac_max
by more than nmax_fracmax_ratio, than np_max is for sure the main progenitor.</p>
</div></blockquote>
<p><strong>frac_max_small :</strong></p>
<blockquote>
<div><p>max_fraction_progenitor whose contribution is lower than frac_max_small is 
suspected not to be the main progenitor.
if max_np_progenitor contributes slightly more than the max frac, 
then max_np_progenitor is considered to be the main progenitor.</p>
</div></blockquote>
<p><strong>boxsize :</strong></p>
<blockquote class="last">
<div><p>boxsize in Mpc/h</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="tree.tree_builder.write_halo_bricks_ct">
<code class="descclassname">tree.tree_builder.</code><code class="descname">write_halo_bricks_ct</code><span class="sig-paren">(</span><em>data</em>, <em>desc</em>, <em>nout</em>, <em>out_dir='./'</em>, <em>is_gal=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/tree_builder.html#write_halo_bricks_ct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.tree_builder.write_halo_bricks_ct" title="Permalink to this definition">¶</a></dt>
<dd><p class="rubric">Notes</p>
<dl class="docutils">
<dt>output in the following format: </dt>
<dd>#ID DescID Mass Vmax Vrms Radius Rs Np X Y Z VX VY VZ JX JY JZ Spin</dd>
</dl>
<p>ID: the halo ID, which must be unique across a single snapshot and must be at least 0.
DescID: the halo&#8217;s descendant id at the next timestep. If no descendant exists, this should be -1.</p>
<blockquote>
<div>At least 100 halos should have descendants (identified by particle-based methods) 
in order for the consistency checks to work properly.</div></blockquote>
<dl class="docutils">
<dt>Mass: the halo mass. This does not have to be Mvir, </dt>
<dd>but it must correspond to the mass with the radius in the Radius column. 
The units for this must be Msun/h.</dd>
</dl>
<p>Vmax: the maximum circular velocity, in units of km/s (physical, not comoving).
Vrms: the velocity dispersion in units of km/s (physical, not comoving);</p>
<blockquote>
<div>may be set to 0 if not available.</div></blockquote>
<dl class="docutils">
<dt>Radius: the radius at which the mass is calculated in column 3. </dt>
<dd>The units must be in kpc / h. (Note that this is different from the position units!)</dd>
</dl>
<p>Rs: the scale radius of the halo, in units of kpc / h; may be set to 0 if not available.
Np: number of particles in the halo.
X/Y/Z: 3D position of the halo, in units of Mpc / h.</p>
<blockquote>
<div>(Note that this is different from the radius units!)</div></blockquote>
<dl class="docutils">
<dt>VX/VY/VZ: 3D velocity of the halo, in units of km/s</dt>
<dd>(physical, not comoving).</dd>
<dt>JX/JY/JZ: 3D angular momentum of the halo, in units of (Msun/h) * (Mpc/h) * km/s (physical, not comoving);</dt>
<dd>may be set to 0 if not available.</dd>
</dl>
<p>Spin: Dimensionless spin parameter; may be set to 0 if not available.</p>
<dl class="docutils">
<dt>output file name:</dt>
<dd>out_xyz.list (out_1.list, ..., out_100.list, ...)</dd>
</dl>
<ul class="simple">
<li>No Nans and Inf are allowed.</li>
</ul>
<p>**  You also need a list of snapshot numbers and aexps.
<a href="#id2"><span class="problematic" id="id3">**</span></a>* Works for both GalaxyMaker and HaloMaker.</p>
</dd></dl>

<dl class="function">
<dt id="tree.tree_builder.write_scale">
<code class="descclassname">tree.tree_builder.</code><code class="descname">write_scale</code><span class="sig-paren">(</span><em>nouts</em>, <em>aexps</em>, <em>out_dir='./'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/tree_builder.html#write_scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.tree_builder.write_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>fn = DescScales.txt</p>
</dd></dl>

</div>
<div class="section" id="module-tree.treemodule">
<span id="tree-treemodule-module"></span><h2>tree.treemodule module<a class="headerlink" href="#module-tree.treemodule" title="Permalink to this headline">¶</a></h2>
<p>treemodule</p>
<p>Created on Sun Jun 14 06:35:45 2015</p>
<p>&#64;author: hoseung</p>
<dl class="class">
<dt id="tree.treemodule.CTree">
<em class="property">class </em><code class="descclassname">tree.treemodule.</code><code class="descname">CTree</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treemodule.html#CTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treemodule.CTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>compatible with ConsistentTrees 1.01</p>
<dl class="method">
<dt id="tree.treemodule.CTree.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treemodule.html#CTree.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treemodule.CTree.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tree.treemodule.CTree.show_data">
<code class="descname">show_data</code><span class="sig-paren">(</span><em>data</em>, <em>ind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treemodule.html#CTree.show_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treemodule.CTree.show_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This prints list of filed names and values of a numpy array in two column format.
Sometimes there are too many fields that listing the names in a row makes it difficult
to match the field name and the field value.
Example)
&gt;&gt;&gt;</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tree.treemodule.load_tree">
<code class="descclassname">tree.treemodule.</code><code class="descname">load_tree</code><span class="sig-paren">(</span><em>wdir</em>, <em>is_gal=False</em>, <em>no_dump=False</em>, <em>load_ascii=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treemodule.html#load_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treemodule.load_tree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.treemodule.rs2codeunit">
<code class="descclassname">tree.treemodule.</code><code class="descname">rs2codeunit</code><span class="sig-paren">(</span><em>rst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treemodule.html#rs2codeunit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treemodule.rs2codeunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Check and clean up.</p>
<p>nout in Consistent Tree by default starts from 0 regardless of 
the original simulation snapshot number. 
This function assumes the nouts are already fixed. 
In practice, it should be fixed when reading from ASCII and pickling it.</p>
</dd></dl>

</div>
<div class="section" id="module-tree.treeplots">
<span id="tree-treeplots-module"></span><h2>tree.treeplots module<a class="headerlink" href="#module-tree.treeplots" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="tree.treeplots.plot_all">
<code class="descclassname">tree.treeplots.</code><code class="descname">plot_all</code><span class="sig-paren">(</span><em>tree</em>, <em>thisgal</em>, <em>save=False</em>, <em>out_dir='./'</em>, <em>fn_save=None</em>, <em>nrows=None</em>, <em>ncols=None</em>, <em>quantities=None</em>, <em>normalizer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeplots.html#plot_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeplots.plot_all" title="Permalink to this definition">¶</a></dt>
<dd><p>thisgal</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeplots.plot_all_multiPDF">
<code class="descclassname">tree.treeplots.</code><code class="descname">plot_all_multiPDF</code><span class="sig-paren">(</span><em>tree</em>, <em>thisgal</em>, <em>out_dir='./'</em>, <em>fn_save=None</em>, <em>nrows=None</em>, <em>ncols=None</em>, <em>quantities=None</em>, <em>normalizer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeplots.html#plot_all_multiPDF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeplots.plot_all_multiPDF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.treeplots.trajectory3D">
<code class="descclassname">tree.treeplots.</code><code class="descname">trajectory3D</code><span class="sig-paren">(</span><em>td</em>, <em>thisgal</em>, <em>save=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeplots.html#trajectory3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeplots.trajectory3D" title="Permalink to this definition">¶</a></dt>
<dd><p>thisgal = name of halo. integer</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeplots.trajectory_multi">
<code class="descclassname">tree.treeplots.</code><code class="descname">trajectory_multi</code><span class="sig-paren">(</span><em>td</em>, <em>thisgal</em>, <em>save=None</em>, <em>out_dir='./'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeplots.html#trajectory_multi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeplots.trajectory_multi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-tree.treeutils">
<span id="tree-treeutils-module"></span><h2>tree.treeutils module<a class="headerlink" href="#module-tree.treeutils" title="Permalink to this headline">¶</a></h2>
<p>Created on ???</p>
<p>This routine makes plots to test CT outputs.
Test halo porperty consistency.</p>
<p>Compatible with Python3</p>
<p>Commonly used routines processing CT output.</p>
<p>&#64;author: hoseung</p>
<dl class="function">
<dt id="tree.treeutils.check_tree_complete">
<code class="descclassname">tree.treeutils.</code><code class="descname">check_tree_complete</code><span class="sig-paren">(</span><em>tree</em>, <em>halo_list</em>, <em>nout_ini=None</em>, <em>nout_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#check_tree_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.check_tree_complete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.treeutils.final_halo_list">
<code class="descclassname">tree.treeutils.</code><code class="descname">final_halo_list</code><span class="sig-paren">(</span><em>data</em>, <em>nout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#final_halo_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.final_halo_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of galaxies at the final snapshot by default,
or from the desired nout.
Example:
&gt;&gt;&gt;</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.get_field_view">
<code class="descclassname">tree.treeutils.</code><code class="descname">get_field_view</code><span class="sig-paren">(</span><em>arr</em>, <em>fields</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#get_field_view"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.get_field_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a view to a 2D numpy array with multiple fields.
By default, veiw = ndarray[&#8216;field&#8217;] returns a view,
but copeid_array = ndarray[&#8216;field1&#8217;,&#8217;field2&#8217;] copies colum data.
Example:
&gt;&gt;&gt;</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.get_main_prg">
<code class="descclassname">tree.treeutils.</code><code class="descname">get_main_prg</code><span class="sig-paren">(</span><em>trees</em>, <em>haloids=None</em>, <em>haloinds=None</em>, <em>unique_id=True</em>, <em>nout_ini=None</em>, <em>nout_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#get_main_prg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.get_main_prg" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list of main progenitors of the given halo
and indices of the halos in the tree data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>id</strong> : int</p>
<blockquote>
<div><p>list of halos (Tree ID by default)</p>
</div></blockquote>
<p><strong>tree_root_id is unique id. So if a non-unique id is given,</strong></p>
<p><strong>convert it to unique id.</strong></p>
<p><strong>unique_id</strong> : bool</p>
<blockquote>
<div><p>False means that the input id is halo id, not a unique tree id.</p>
</div></blockquote>
<p class="last"><strong>If no &#8216;ROOT&#8217; galaxy is found, return false</strong></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inds_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n_good</span><span class="p">,</span> <span class="mi">82</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i_good</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">hid</span> <span class="ow">in</span> <span class="n">halo_list</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">prgs</span><span class="p">,</span> <span class="n">inds</span> <span class="o">=</span> <span class="n">tru</span><span class="o">.</span><span class="n">get_main_prg</span><span class="p">(</span><span class="n">trees</span><span class="p">,</span> <span class="n">haloid</span><span class="o">=</span><span class="n">hid</span><span class="p">,</span> <span class="n">unique_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="n">prgs</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No tree for </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">hid</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="k">continue</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">inds_arr</span><span class="p">[</span><span class="n">i_good</span><span class="p">]</span> <span class="o">=</span> <span class="n">inds</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">i_good</span> <span class="o">+=</span><span class="mi">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.get_main_prgTM">
<code class="descclassname">tree.treeutils.</code><code class="descname">get_main_prgTM</code><span class="sig-paren">(</span><em>tree</em>, <em>halos</em>, <em>nout_ini=None</em>, <em>nout_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#get_main_prgTM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.get_main_prgTM" title="Permalink to this definition">¶</a></dt>
<dd><p>TM version.
nout in tree =/= nout. correct it.</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.get_main_prg_ID">
<code class="descclassname">tree.treeutils.</code><code class="descname">get_main_prg_ID</code><span class="sig-paren">(</span><em>all_tree</em>, <em>haloID</em>, <em>nout_ini=None</em>, <em>nout_fi=None</em>, <em>aexp_ini=None</em>, <em>aexp_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#get_main_prg_ID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.get_main_prg_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>Return main progenitor IDs between nout_ini and nout_fi.</p>
<p>haloID   &#8211; IDx
nout_ini &#8211; first snapshot of the tree
nout_fi  &#8211; last snapshot of the tree</p>
<p>If not given, min &amp; max nout of all_tree is used.</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.get_main_prg_tree">
<code class="descclassname">tree.treeutils.</code><code class="descname">get_main_prg_tree</code><span class="sig-paren">(</span><em>all_tree</em>, <em>haloID</em>, <em>nout_ini=None</em>, <em>nout_fi=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#get_main_prg_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.get_main_prg_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a sub-tree recarray(or ndarray) of the bigger tree,
which is a tree of main progeniotrs of the halo, haloID.</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.iscomment">
<code class="descclassname">tree.treeutils.</code><code class="descname">iscomment</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#iscomment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.iscomment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.treeutils.load_ascii">
<code class="descclassname">tree.treeutils.</code><code class="descname">load_ascii</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#load_ascii"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.load_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Loading ~500MB takes ~ 20 seconds, most of which is suspected to be
processing part.</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.richest_halo">
<code class="descclassname">tree.treeutils.</code><code class="descname">richest_halo</code><span class="sig-paren">(</span><em>all_tree</em>, <em>nout=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#richest_halo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.richest_halo" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ID of the richest halo in a given nout.
Useful to find the zoomed-in target cluster.</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.show_data">
<code class="descclassname">tree.treeutils.</code><code class="descname">show_data</code><span class="sig-paren">(</span><em>data</em>, <em>ind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#show_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.show_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This prints list of filed names and values of a numpy array in two column format.
Sometimes there are too many fields that listing the names in a row makes it difficult
to match the field name and the field value.
Example)
&gt;&gt;&gt;</p>
</dd></dl>

<dl class="function">
<dt id="tree.treeutils.tm2ct">
<code class="descclassname">tree.treeutils.</code><code class="descname">tm2ct</code><span class="sig-paren">(</span><em>tm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#tm2ct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.tm2ct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tree.treeutils.tree2pickle">
<code class="descclassname">tree.treeutils.</code><code class="descname">tree2pickle</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tree/treeutils.html#tree2pickle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tree.treeutils.tree2pickle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-tree">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-tree" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tree package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-tree.Do_Consistent_Tree">tree.Do_Consistent_Tree module</a></li>
<li><a class="reference internal" href="#module-tree.TMtree">tree.TMtree module</a></li>
<li><a class="reference internal" href="#module-tree.ctutils">tree.ctutils module</a></li>
<li><a class="reference internal" href="#module-tree.draw_merger_tree">tree.draw_merger_tree module</a></li>
<li><a class="reference internal" href="#module-tree.halomodule">tree.halomodule module</a><ul>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-tree.hmutil">tree.hmutil module</a></li>
<li><a class="reference internal" href="#module-tree.rshalo">tree.rshalo module</a></li>
<li><a class="reference internal" href="#id1">tree.tmtree module</a></li>
<li><a class="reference internal" href="#module-tree.tree_builder">tree.tree_builder module</a></li>
<li><a class="reference internal" href="#module-tree.treemodule">tree.treemodule module</a></li>
<li><a class="reference internal" href="#module-tree.treeplots">tree.treeplots module</a></li>
<li><a class="reference internal" href="#module-tree.treeutils">tree.treeutils module</a></li>
<li><a class="reference internal" href="#module-tree">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tree.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyclusterevol -0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Hoseung.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.
    </div>
  </body>
</html>